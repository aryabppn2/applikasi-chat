<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<style>
body{
  background-color: aliceblue;
  font-family: 'Courier New', Courier, monospace;
  }

  a{
  text-decoration: none;
  }
  .div-above{
    display: flex;
    text-align: center;
  }
  .username-btn{
    width:60px;
    height: 60px;
    border: 0px;
    margin-top: 14px;
    border-radius: 100px;
    font-size: 30px;

  }
  form{ 
  margin-left: 50px;
  margin-top: 20px;
  margin-bottom:20px;
  width:auto;
  height: auto;
  background-color:whitesmoke;
  }
  form>input{
  width:700px;
  height: 50px;
  font-size: 30px;
  border:0px;
  border-radius: 20px;

  }
  .btn-bar,.btn-bar-selected{
   width:49.2%;
   height: 50px;
   font-size: 30px;
   border:0px;
   font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
}
.btn-bar{
  background-color: gray;
  color:aliceblue
}
.btn-bar-selected{
   background-color: aliceblue;
   color:gray
}
.person-nav{
 width:87.8%;
 margin-left: 250px;
 margin-top: 20px;
 height: 560px;
 overflow-y: auto;
 background-color: aliceblue;
 text-align: center;

}
.person-card{
  width:50.5%;
  height: auto;
  margin-bottom: 40px;
  text-align: left;
  margin-left: 30px;
  border-radius: 20px;
  background-color: whitesmoke;
}
.person-card>button{
  width:100px;
  height: 100px;
  border-radius: 100px;
  font-size: 40px;
  border:0px;
  margin-left: 20px;
  margin-top: 20px;
}
.person-card{
  margin-left: 50px;
  font-size: 50px;
}

.chat-form{
  width:auto;
  height: auto;
}
.chat-form>input{
  width:500px;
  background-color: chartreuse;
  color:green
  
}
.chat-form>select,.chat-form>button{
  width:240px;
  height: 50px;
  margin-bottom: 30px;
  margin-top: 20px;
  border-radius: 20px;
  font-size: 30px;
  border-color: green;
}
.chat-form>select{
  background-color: beige;
  color:green
}
.chat-form>button{
  background-color: lightgreen;
  color:green
}
.div-sub-option{
  width:100%;
  height: auto;
  text-align: left;
  margin-top: 20px;
}
.div-sub-option>a{
  margin-left: 30px;
  font-size: 20px;
  color:gray;
  border-style: inline;

}
.div-sub-optiona>a:hover{
  text-decoration: underline;
  color:blanchedalmond;
  background-color: honeydew;
}
.chat-navigation-public{
  width:100%;
  margin-left: 20px;
  margin-top: 20px;
  height: 560px;
  overflow-y:auto ;
  text-align: center;
}
.chat-card{
  width:78.5%;
  margin-left: 50px;
  height: auto;
  margin-top:30px;
border-radius: 20px;
  
}
.chat-card>button{
  width:100px;
  height: 100px;
  font-size:50px;
  margin-bottom: 20px;
  margin-top: 20px;
  border-radius: 100px;
  background-color: gray;
  color:aliceblue
}
.chat-card>span{
  font-size: 50px;
  margin-left: 30px;
}
.chat-card>a>span{
  font-size: 40px;
  margin-top: 20px;
  margin-left: 12px;
  color:gray
}
</style>

</head>

<body>
<% if (page=="all-beranda") { %>
 <div class="div-above">
<div>
 <a href="/user-setting">
   <button class="username-btn" style="color:<%=user.style.color%>;background-color:<%=user.style.bgcolor%>"><%=user.username[0] %></button>
 </a>
</div>
 <form action="/search-person" method="post">
  <input type="hidden" name="user_email" value="<%=user.email %>">
  <input type="text" name="search_input" placeholder="cari teman baru">
 </form>
<div style="margin-top: 20px;margin-left: 20px;">
 <a href="/user-home-page">
  <button class="btn-bar" style="width:150px">home</button>
 </a>
 <a href="/user-navigation-all">
   <button class="btn-bar-selected" style="width:150px">beranda</button>
 </a>
 <a href="/user-friends-page">
   <button class="btn-bar" style="width:150px">temanku</button>
 </a>
</div>
</div>
<div class="div-sub-option">
  <a href="/user-navigation-all"style="color:<%=user.style.bgcolor%>;background-color:<%=user.style.color%>">semua</a>
  <a href="/user-navigation-person" >orang</a>
  <a href="/user-navigation-chat-public">obrolan publik</a>
</div>
<div class="chat-navigation-public">
   <% data.chat_public.forEach(chat => { %>
 <% if (chat.sender.email==user.email) { %>
  <div class="chat-card" style="background-color: greenyellow;color:green;text-align: left" >
    <button class="username-btn" style="margin-left: 20px;"><%=chat.reciepent.name[0] %></button>
  <span style="margin-left: 20px;"> <%=chat.reciepent.name %></span>
<hr/>
<a href="chat-open/<%=chat.chat_information._id %>/sender">
   <span><%=chat.chat_information.chat_title %></span>
</a>

  </div>

<% } else { %>
 
<div class="chat-card" style="background-color: lightgray;color:gray;">
    <button class="username-btn"><%=chat.sender.name[0] %></button>
  <span> <%=chat.sender.name %></span>
<hr/>
<a href="chat-open/<%=chat.chat_information._id %>/reciepent">
   <span><%=chat.chat_information.chat_title %></span>
</a>

  </div>
 <% } %>

<% }) %>
</div>
<div class="person-nav">
  <% data.person.forEach(data => { %>
 <div class="person-card">
  <button style="background-color: <%=data.style.bgcolor%>;color:<%=data.style.color%>;"><%=data.username[0] %></button>
  <span><%=data.username %></span>
  <hr/>
  <form action="/add-user-friends" method="post" class="chat-form" style="text-align: left;margin-left: 12px;">
  <input type="hidden" name="user_email" value="<%=user.email %>">
  <input type="hidden" name="friends_email" value="<%=data.email %>">
 <input type="text" name="chat_value" placeholder="isi perkenalanku" style="width: 50%;" >
 <button>kirim</button>
  </form>
 </div>
<% }) %>

</div>

<% }else if (page=="person-beranda") { %>
 <div class="div-above">
<div>
 <a href="/user-setting">
   <button class="username-btn" style="color:<%=user.style.color%>;background-color:<%=user.style.bgcolor%>"><%=user.username[0] %></button>
 </a>
</div>
 <form action="/search-person" method="post">
  <input type="hidden" name="user_email" value="<%=user.email %>">
  <input type="text" name="search_input" placeholder="cari teman baru">
 </form>
<div style="margin-top: 20px;margin-left: 20px;">
 <a href="/user-home-page">
  <button class="btn-bar" style="width:150px">home</button>
 </a>
 <a href="/user-navigation-person">
   <button class="btn-bar-selected" style="width:150px">beranda</button>
 </a>
 <a href="/user-friends-page">
   <button class="btn-bar" style="width:150px">temanku</button>
 </a>
</div>
</div>
<div class="div-sub-option">
  <a href="/user-navigation-all">semua</a>
  <a href="/user-navigation-person" style="color:<%=user.style.bgcolor%>;background-color:<%=user.style.color%>" >orang</a>
  <a href="/user-navigation-chat-public">obrolan publik</a>
</div>
<div class="person-nav">
<% person.forEach(data => { %>
 <div class="person-card">
  <button style="background-color: <%=data.style.bgcolor%>;color:<%=data.style.color%>;"><%=data.username[0] %></button>
  <span><%=data.username %></span>
  <hr/>
  <form action="/add-user-friends" method="post" class="chat-form" style="text-align: left;margin-left: 12px;">
  <input type="hidden" name="user_email" value="<%=user.email %>">
  <input type="hidden" name="friends_email" value="<%=data.email %>">
 <input type="text" name="chat_value" placeholder="isi perkenalanku" style="width: 50%;" >
 <button>kirim</button>
  </form>
 </div>


<% }) %>


</div>
<% } else if (page=="chat-public-beranda") { %>
 <div class="div-above">
<div>
 <a href="/user-setting">
   <button class="username-btn" style="color:<%=user.style.color%>;background-color:<%=user.style.bgcolor%>"><%=user.username[0] %></button>
 </a>
</div>
 <form action="/search-chat-public" method="post">
  <input type="hidden" name="user_email" value="<%=user.email %>">
  <input type="text" name="search_input" placeholder="cari chat yang membahs tentang apa">
 </form>
<div style="margin-top: 20px;margin-left: 20px;">
 <a href="/user-home-page">
  <button class="btn-bar" style="width:150px">home</button>
 </a>
 <a href="/user-navigation-person">
   <button class="btn-bar-selected" style="width:150px">beranda</button>
 </a>
 <a href="/user-friends-page">
   <button class="btn-bar" style="width:150px">temanku</button>
 </a>
</div>
</div>
<div class="div-sub-option">
  <a href="/user-navigation-all">semua</a>
  <a href="/user-navigation-person"  >orang</a>
  <a href="/user-navigation-chat-public" style="color:<%=user.style.bgcolor%>;background-color:<%=user.style.color%>">obrolan publik</a>
</div>
<div class="chat-navigation-public" >
<% chat_public.forEach(chat => { %>
 <% if (chat.sender.email==user.email) { %>
  <div class="chat-card" style="background-color: greenyellow;color:green;text-align: left" >
    <button class="username-btn" style="margin-left: 20px;"><%=chat.reciepent.name[0] %></button>
  <span style="margin-left: 20px;"> <%=chat.reciepent.name %></span>
<hr/>
<a href="chat-open/<%=chat.chat_information._id %>/sender">
   <span><%=chat.chat_information.chat_title %></span>
</a>

  </div>

<% } else { %>
 
<div class="chat-card" style="background-color: lightgray;color:gray;">
    <button class="username-btn"><%=chat.sender.name[0] %></button>
  <span> <%=chat.sender.name %></span>
<hr/>
<a href="chat-open/<%=chat.chat_information._id %>/reciepent">
   <span><%=chat.chat_information.chat_title %></span>
</a>

  </div>
 <% } %>

<% }) %>



</div>



<% } %>
</body>

</html>